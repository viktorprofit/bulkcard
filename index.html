<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Real Bulkoor — Passport Card</title>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600;9..144,700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#1B1A14;--bg2:#0E0D0A;
  --ink:#161513;--ink2:#1F1E19;
  --text:#EDECE3;--muted:#C6B6BA;
  --foil1:#5A2C40;--foil2:#C6B6BA;--foil3:#F9F8ED;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:var(--text);
}
.wrap{max-width:1200px;margin:auto;padding:30px;display:grid;gap:24px}
.grid{display:grid;grid-template-columns:1fr 700px;gap:24px}
.panel{background:rgba(22,21,19,.6);padding:16px;border:1px solid rgba(237,236,227,.08);border-radius:16px;backdrop-filter:blur(8px)}
.label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
.input,.select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(237,236,227,.15);background:#0f0e0b;color:var(--text)}
.btn{margin-top:10px;padding:10px 16px;border:none;border-radius:8px;cursor:pointer;color:#fff}
.btn.primary{background:linear-gradient(135deg,#231d1f,#2c1e26)}
canvas{width:100%;height:auto;border-radius:26px;display:block}
</style>
</head>
<body>
<div class="wrap">
  <div class="grid">
    <div class="panel">
      <label class="label">Name</label>
      <input id="name" class="input" value="Real Bulkoor">
      <label class="label">Discord</label>
      <input id="discord" class="input" placeholder="@yourhandle">
      <label class="label">Bullish level</label>
      <select id="level" class="select">
        <option>Not bullish</option>
        <option>Mild</option>
        <option selected>Bullish</option>
        <option>Very bullish</option>
        <option>Max bullish</option>
      </select>
      <label class="label">Photo</label>
      <input id="photo" type="file" accept="image/*" class="input">
      <button id="downloadBtn" class="btn primary">Download card</button>
    </div>
    <div><canvas id="c" width="960" height="600"></canvas></div>
  </div>
</div>

<script>
const c=document.getElementById('c'),ctx=c.getContext('2d');
const n=document.getElementById('name'),d=document.getElementById('discord'),l=document.getElementById('level'),p=document.getElementById('photo');
let imgData="";

function rr(x,y,w,h,r){ctx.beginPath();ctx.moveTo(x+r,y);ctx.arcTo(x+w,y,x+w,y+h,r);ctx.arcTo(x+w,y+h,x,y+h,r);ctx.arcTo(x,y+h,x,y,r);ctx.arcTo(x,y,x+w,y,r);ctx.closePath();}
function gradient(){const g=ctx.createLinearGradient(0,0,c.width,c.height);g.addColorStop(0,getVar('--foil1'));g.addColorStop(.5,getVar('--foil2'));g.addColorStop(1,getVar('--foil3'));return g;}
function getVar(v){return getComputedStyle(document.documentElement).getPropertyValue(v).trim();}
function loadImage(src){return new Promise(r=>{const i=new Image();i.onload=()=>r(i);i.src=src;});}
function divider(x1,x2,y){ctx.strokeStyle='rgba(237,236,227,.15)';ctx.lineWidth=1;ctx.beginPath();ctx.moveTo(x1,y+.5);ctx.lineTo(x2,y+.5);ctx.stroke();}

async function drawCard(){
  ctx.clearRect(0,0,c.width,c.height);
  const W=c.width,H=c.height,P=40;
  // foil frame
  ctx.fillStyle=gradient();rr(0,0,W,H,28);ctx.fill();
  // inner bg
  ctx.save();ctx.translate(10,10);
  const innerW=W-20,innerH=H-20;
  const bg=ctx.createLinearGradient(0,0,0,innerH);
  bg.addColorStop(0,getVar('--ink'));bg.addColorStop(1,getVar('--ink2'));
  ctx.fillStyle=bg;rr(0,0,innerW,innerH,22);ctx.fill();
  // header
  ctx.fillStyle=getVar('--text');ctx.font='700 36px Fraunces';ctx.fillText('Bulk Identity',P,80);
  // photo
  const photoSize=180,photoX=P,photoY=120;
  ctx.strokeStyle='rgba(237,236,227,.2)';rr(photoX-5,photoY-5,photoSize+10,photoSize+10,14);ctx.stroke();
  if(imgData){const img=await loadImage(imgData);ctx.save();rr(photoX,photoY,photoSize,photoSize,10);ctx.clip();ctx.drawImage(img,photoX,photoY,photoSize,photoSize);ctx.restore();}
  // right col
  const rx=P+photoSize+40;let y=120;
  const label=(t)=>{ctx.fillStyle=getVar('--muted');ctx.font='600 15px Inter';ctx.fillText(t,rx,y);y+=20;};
  const value=(t,large)=>{ctx.fillStyle=getVar('--text');ctx.font=large?'700 26px Inter':'700 20px Inter';ctx.fillText(t,rx,y);y+=large?40:32;divider(rx,innerW-P,y);y+=16;};
  label('Name');value(n.value||'Real Bulkoor',true);
  label('Discord');value((d.value.startsWith('@')?d.value:'@'+(d.value||'handle')),true);
  label('Bullish');value(l.value,true);
  label('Member ID');value('BLK-'+String(1).padStart(6,'0'),true);
  label('Valid Thru');value('∞',true);
  // footer
  ctx.fillStyle=getVar('--muted');ctx.font='400 16px Inter';ctx.fillText('Issued by Bulk Identity Authority · Non-transferable · For community use',P,H-40);
  ctx.restore();
}
n.oninput=d.oninput=l.onchange=drawCard;
p.onchange=e=>{const f=e.target.files?.[0];if(!f)return;const r=new FileReader();r.onload=()=>{imgData=r.result;drawCard();};r.readAsDataURL(f);};
document.getElementById('downloadBtn').onclick=async()=>{
  const link=document.createElement('a');
  link.download='bulkoor_card.png';
  link.href=c.toDataURL('image/png');
  link.click();
};
drawCard();
</script>
</body>
</html>
