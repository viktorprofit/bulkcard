<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Real Bulkoor — Card Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

    <style>
      :root{
        --bg1:#0b1020;        /* deep navy */
        --bg2:#0e162e;        /* indigo navy */
        --ink:#0f172a;        /* card base */
        --ink-2:#121a31;      /* inner */
        --text:#e5eefb;
        --muted:#94a3b8;
        --accent:#37e0ff;     /* cyan */
        --accent-2:#7c4dff;   /* violet */
        --foil-1:#37e0ff;
        --foil-2:#ff6ad5;
        --foil-3:#ffe66d;
        --success:#16a34a;
      }

      *{ box-sizing:border-box }
      html,body{ height:100% }
      body{
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        margin:0;
        color:var(--text);
        /* layered gradient background */
        background:
          radial-gradient(1200px 800px at 10% 10%, #1a2250 0%, transparent 65%),
          radial-gradient(1000px 700px at 90% 90%, #102a49 0%, transparent 60%),
          linear-gradient(135deg, var(--bg1), var(--bg2));
      }

      .wrap{
        max-width:1080px;
        margin:0 auto;
        padding:28px 20px 56px;
        display:grid;
        gap:28px;
      }

      .title{
        font-weight:800;
        letter-spacing:.2px;
        font-size:24px;
        margin:6px 0 2px;
      }
      .subtitle{ color:var(--muted); font-size:13px; margin:0 0 8px }

      /* GRID */
      .grid{
        display:grid;
        grid-template-columns: 1fr 520px;
        gap:28px;
      }
      @media (max-width: 1000px){
        .grid{ grid-template-columns:1fr }
      }

      /* PANEL (controls) */
      .panel{
        background: rgba(16,23,42,.4);
        border: 1px solid rgba(255,255,255,.06);
        border-radius: 16px;
        padding:16px;
        backdrop-filter: blur(8px);
        box-shadow:
          0 8px 24px rgba(0,0,0,.25),
          inset 0 1px 0 rgba(255,255,255,.04);
      }
      .form-row{ margin-bottom:14px }
      .label{
        display:block;
        font-size:12px;
        color:var(--muted);
        margin-bottom:6px;
      }
      .input, .select{
        width:100%;
        padding:12px 13px;
        border-radius:10px;
        border:1px solid rgba(255,255,255,.08);
        background:rgba(9,14,28,.6);
        color:var(--text);
        outline:none;
      }
      .input:focus, .select:focus{
        border-color: rgba(55,224,255,.5);
        box-shadow: 0 0 0 3px rgba(55,224,255,.15);
      }
      .btns{ display:flex; gap:10px; margin-top:10px; flex-wrap:wrap }
      .btn{
        padding:11px 16px;
        border-radius:10px;
        border:1px solid rgba(255,255,255,.1);
        background:#0b1224;
        color:#fff;
        cursor:pointer;
        transition:transform .08s ease, box-shadow .2s ease, background .2s ease;
      }
      .btn:hover{ transform:translateY(-1px); box-shadow:0 6px 20px rgba(0,0,0,.35) }
      .btn.primary{
        background: linear-gradient(135deg, #0f1a35, #0c2740);
        border-color: rgba(55,224,255,.35);
        box-shadow: 0 8px 24px rgba(55,224,255,.12);
      }
      .btn.ghost{
        background: transparent;
      }

      /* PREVIEW CARD BLOCK (with 3D tilt) */
      .card-shell{
        perspective: 1100px;
      }
      .card-outer{
        position:relative;
        border-radius: 22px;
        padding: 2px; /* for gradient border */
        background: linear-gradient(135deg, var(--foil-1), var(--foil-2), var(--foil-3), var(--foil-1));
        background-size: 200% 200%;
        animation: foilShift 6s ease-in-out infinite;
        box-shadow:
          0 16px 50px rgba(0,0,0,.45),
          inset 0 0 1px rgba(255,255,255,.25);
        transform-style: preserve-3d;
        transition: transform .2s ease;
      }
      @keyframes foilShift{
        0%{ background-position: 0% 0% }
        50%{ background-position: 100% 100% }
        100%{ background-position: 0% 0% }
      }
      .card-inner{
        border-radius: 20px;
        background:
          radial-gradient(120% 90% at 0% 0%, rgba(124,77,255,.18) 0%, transparent 55%),
          radial-gradient(120% 90% at 100% 100%, rgba(55,224,255,.16) 0%, transparent 55%),
          linear-gradient(180deg, var(--ink), var(--ink-2) 70%);
        border: 1px solid rgba(255,255,255,.06);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,.06),
          0 12px 35px rgba(0,0,0,.35);
        padding: 22px;
        position: relative;
        overflow: hidden;
      }

      /* subtle diagonal lines inside */
      .card-inner::after{
        content:'';
        position:absolute; inset:0;
        background: repeating-linear-gradient( 135deg,
          rgba(255,255,255,.04) 0px,
          rgba(255,255,255,.04) 2px,
          transparent 2px,
          transparent 8px
        );
        pointer-events:none;
        mix-blend-mode: overlay;
      }

      .card-row{
        display:flex; align-items:center; gap:18px;
      }
      .avatar{
        width:112px; height:112px; border-radius:50%;
        object-fit:cover; flex:0 0 auto;
        box-shadow: 0 10px 28px rgba(0,0,0,.35);
        border:1px solid rgba(255,255,255,.08);
      }
      .meta .name{
        font-size:22px; font-weight:700; letter-spacing:.2px;
      }
      .meta .role{
        font-size:13px; color:var(--muted);
        margin-top:2px;
      }
      .badge{
        display:inline-block; margin-top:10px;
        padding:7px 12px; border-radius:999px;
        background: linear-gradient(135deg, #143d2a, #0f2e22);
        color:#d1fae5; font-size:13px; font-weight:600;
        border:1px solid rgba(22,163,74,.35);
        box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
      }

      /* corner ribbon */
      .ribbon{
        position:absolute; top:18px; right:-38px;
        transform: rotate(28deg);
        background: linear-gradient(90deg, rgba(255,255,255,.18), rgba(255,255,255,.02));
        color:#fff; font-size:12px; letter-spacing:.6px; text-transform:uppercase;
        padding:6px 56px; border:1px solid rgba(255,255,255,.18);
        border-radius: 8px;
        box-shadow: 0 6px 20px rgba(0,0,0,.25);
        pointer-events:none;
      }

      /* bottom hint */
      .hint{
        margin-top:10px; font-size:12px; color:var(--muted)
      }

      /* helper for spacing */
      .sp-12{ height:12px }
      .sp-18{ height:18px }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div>
        <div class="title">Real Bulkoor — Card Generator</div>
        <p class="subtitle">Create a clean, badge-style card with a foil border, glass depth, and export as PNG.</p>
      </div>

      <div class="grid">
        <!-- Controls -->
        <div class="panel">
          <div class="form-row">
            <label class="label">Name</label>
            <input id="name" class="input" value="Real Bulkoor" />
          </div>

          <div class="form-row">
            <label class="label">Bullish level</label>
            <select id="level" class="select">
              <option>Not bullish</option>
              <option>Mild</option>
              <option selected>Bullish</option>
              <option>Very bullish</option>
              <option>Max bullish</option>
            </select>
          </div>

          <div class="form-row">
            <label class="label">Photo</label>
            <input id="photo" type="file" accept="image/*" class="input" />
          </div>

          <div class="btns">
            <button class="btn primary" id="downloadBtn">Download card</button>
            <button class="btn ghost" id="resetBtn">Reset</button>
          </div>

          <div class="hint">Tip: use a clear front-facing photo. Export is high-resolution PNG.</div>
        </div>

        <!-- Preview (3D tilt) -->
        <div class="card-shell">
          <div class="card-outer" id="tilt">
            <div class="card-inner">
              <div class="ribbon">Real Bulkoor</div>
              <div class="card-row">
                <img id="previewAvatar" class="avatar" alt="avatar"/>
                <div class="meta">
                  <div class="name" id="previewName">Real Bulkoor</div>
                  <div class="role">Real community participant</div>
                  <div class="badge" id="previewBadge">Bullish</div>
                </div>
              </div>
              <div class="sp-12"></div>
              <!-- subtle footer line -->
              <div style="height:1px; background:linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.02));"></div>
              <div class="sp-18"></div>
              <div style="font-size:12px; color:#9fb3d1">Generated with love for Bulk vibes.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ---------- State ----------
      const elName = document.getElementById('name');
      const elLevel = document.getElementById('level');
      const elPhoto = document.getElementById('photo');

      const pvName = document.getElementById('previewName');
      const pvBadge = document.getElementById('previewBadge');
      const pvAvatar = document.getElementById('previewAvatar');

      const btnDownload = document.getElementById('downloadBtn');
      const btnReset = document.getElementById('resetBtn');

      const tilt = document.getElementById('tilt');

      // default avatar (vector)
      const DEFAULT_IMG =
        "data:image/svg+xml;utf8," +
        encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 24 24' fill='none'>
            <rect width='24' height='24' rx='4' fill='%232b2f3a'/>
            <g transform='translate(4,4) scale(0.8)'>
              <circle cx='8' cy='7' r='3' fill='%2399a3b2'/>
              <rect x='2' y='13' width='12' height='5' rx='2' fill='%2399a3b2'/>
            </g>
          </svg>`);

      let currentImg = DEFAULT_IMG;

      // init preview
      function updatePreview(){
        pvName.textContent = elName.value || 'Real Bulkoor';
        pvBadge.textContent = elLevel.value;
        pvAvatar.src = currentImg;
      }
      updatePreview();

      elName.addEventListener('input', updatePreview);
      elLevel.addEventListener('change', updatePreview);

      elPhoto.addEventListener('change', (e)=>{
        const file = e.target.files?.[0];
        if(!file) return;
        const reader = new FileReader();
        reader.onload = ()=>{ currentImg = reader.result; updatePreview(); }
        reader.readAsDataURL(file);
      });

      btnReset.addEventListener('click', ()=>{
        elName.value = 'Real Bulkoor';
        elLevel.value = 'Bullish';
        elPhoto.value = '';
        currentImg = DEFAULT_IMG;
        updatePreview();
      });

      // ---------- 3D tilt ----------
      tilt.addEventListener('mousemove', (e)=>{
        const rect = tilt.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const px = (x / rect.width) - 0.5;
        const py = (y / rect.height) - 0.5;
        const rotX = (+py * 10).toFixed(2);
        const rotY = (-px * 12).toFixed(2);
        tilt.style.transform = `rotateX(${rotX}deg) rotateY(${rotY}deg)`;
      });
      tilt.addEventListener('mouseleave', ()=>{
        tilt.style.transform = 'rotateX(0deg) rotateY(0deg)';
      });

      // ---------- Export to PNG (high-res) ----------
      btnDownload.addEventListener('click', ()=>{
        // card dimensions for export
        const W = 1200, H = 760;
        const canvas = document.createElement('canvas');
        canvas.width = W; canvas.height = H;
        const ctx = canvas.getContext('2d');

        // gradient foil border background
        const grd = ctx.createLinearGradient(0,0,W,H);
        grd.addColorStop(0, '#37e0ff');
        grd.addColorStop(.5, '#ff6ad5');
        grd.addColorStop(1, '#ffe66d');
        ctx.fillStyle = grd;
        roundRect(ctx, 0, 0, W, H, 28, true, false);

        // inner card
        ctx.save();
        ctx.translate(10,10);
        // main inner
        const innerW=W-20, innerH=H-20;
        const innerGrd = ctx.createLinearGradient(0,0,0,innerH);
        innerGrd.addColorStop(0, '#0f172a');
        innerGrd.addColorStop(1, '#121a31');
        ctx.fillStyle = innerGrd;
        roundRect(ctx, 0, 0, innerW, innerH, 22, true, false);

        // soft vignette/glow
        const rg = ctx.createRadialGradient(0,0,0, 0,0, innerW*1.2);
        rg.addColorStop(0, 'rgba(124,77,255,.18)');
        rg.addColorStop(1, 'transparent');
        ctx.fillStyle = rg;
        roundRect(ctx, 0, 0, innerW, innerH, 22, true, true);

        const rg2 = ctx.createRadialGradient(innerW, innerH, 0, innerW, innerH, innerW*1.1);
        rg2.addColorStop(0, 'rgba(55,224,255,.16)');
        rg2.addColorStop(1, 'transparent');
        ctx.fillStyle = rg2;
        roundRect(ctx, 0, 0, innerW, innerH, 22, true, true);

        // subtle diagonal lines overlay
        ctx.save();
        ctx.globalAlpha = .14;
        ctx.fillStyle = '#ffffff';
        const step = 14, thickness = 2;
        ctx.beginPath();
        for(let x=-innerH; x<innerW+innerH; x+=step){
          ctx.moveTo(x, 0);
          ctx.lineTo(x+innerH, innerH);
        }
        ctx.lineWidth = thickness;
        ctx.strokeStyle = 'rgba(255,255,255,.35)';
        ctx.stroke();
        ctx.restore();

        // ribbon
        drawRibbon(ctx, innerW, 20, 'Real Bulkoor');

        // avatar circle
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.src = currentImg;
        img.onload = ()=>{
          const ax=120, ay=220, ar=160;
          // shadow
          ctx.save();
          ctx.fillStyle='rgba(0,0,0,.35)';
          ctx.beginPath();
          ctx.ellipse(ax+6, ay+ar+6, ar*.95, 28, 0, 0, Math.PI*2);
          ctx.fill();
          ctx.restore();

          // avatar
          ctx.save();
          ctx.beginPath();
          ctx.arc(ax+ar, ay+ar, ar, 0, Math.PI*2);
          ctx.clip();
          ctx.drawImage(img, ax, ay, ar*2, ar*2);
          ctx.restore();
          // avatar ring
          ctx.lineWidth = 3;
          ctx.strokeStyle = 'rgba(255,255,255,.08)';
          ctx.beginPath();
          ctx.arc(ax+ar, ay+ar, ar+1, 0, Math.PI*2);
          ctx.stroke();

          // texts
          ctx.fillStyle='#e5eefb';
          ctx.font = '700 56px Inter, system-ui, Arial';
          ctx.textBaseline='top';
          ctx.fillText(elName.value || 'Real Bulkoor', 480, 220);

          ctx.fillStyle='#94a3b8';
          ctx.font = '400 26px Inter, system-ui, Arial';
          ctx.fillText('Real community participant', 480, 292);

          // badge
          drawBadge(ctx, 480, 360, elLevel.value);

          // bottom divider
          ctx.fillStyle='rgba(255,255,255,.12)';
          ctx.fillRect(20, innerH-130, innerW-40, 1);

          ctx.fillStyle='#9fb3d1';
          ctx.font='400 20px Inter, system-ui, Arial';
          ctx.fillText('Generated with love for Bulk vibes.', 20, innerH-110);

          // export
          const link = document.createElement('a');
          link.download = (elName.value || 'real-bulkoor').replace(/\s+/g,'_').toLowerCase() + '_card.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
        };

        ctx.restore();
      });

      // ---------- helpers ----------
      function roundRect(ctx, x, y, w, h, r, fill, noClip){
        if (w<2*r) r = w/2; if (h<2*r) r = h/2;
        ctx.beginPath();
        ctx.moveTo(x+r, y);
        ctx.arcTo(x+w, y,   x+w, y+h, r);
        ctx.arcTo(x+w, y+h, x,   y+h, r);
        ctx.arcTo(x,   y+h, x,   y,   r);
        ctx.arcTo(x,   y,   x+w, y,   r);
        ctx.closePath();
        if(fill) ctx.fill();
        if(!noClip) {} // left here for future masking if needed
      }

      function drawBadge(ctx, x, y, text){
        const padX=20, h=54;
        ctx.font='600 30px Inter, system-ui, Arial';
        const w = ctx.measureText(text).width + padX*2;
        // bg
        const g = ctx.createLinearGradient(x, y, x, y+h);
        g.addColorStop(0, '#143d2a');
        g.addColorStop(1, '#0f2e22');
        ctx.fillStyle=g;
        ctx.fillRect(x, y, w, h);
        // border
        ctx.strokeStyle='rgba(22,163,74,.45)';
        ctx.lineWidth=1.5; ctx.strokeRect(x+.75, y+.75, w-1.5, h-1.5);
        // text
        ctx.fillStyle='#d1fae5';
        ctx.textBaseline='middle';
        ctx.fillText(text, x+padX, y+h/2);
      }

      function drawRibbon(ctx, innerW, top, label){
        ctx.save();
        ctx.translate(innerW-160, top);
        ctx.rotate(28*Math.PI/180);
        const text = label.toUpperCase();
        ctx.font='600 16px Inter, system-ui, Arial';
        const pad=18;
        const w= ctx.measureText(text).width + pad*2;
        const h = 32;

        // body
        const grd = ctx.createLinearGradient(0,0,w,0);
        grd.addColorStop(0, 'rgba(255,255,255,.22)');
        grd.addColorStop(1, 'rgba(255,255,255,.06)');
        ctx.fillStyle = grd;
        ctx.fillRect(0,0,w,h);
        ctx.strokeStyle='rgba(255,255,255,.25)';
        ctx.lineWidth=1;
        ctx.strokeRect(.5,.5,w-1,h-1);

        // text
        ctx.fillStyle='#ffffff';
        ctx.textBaseline='middle';
        ctx.fillText(text, pad, h/2);

        ctx.restore();
      }
    </script>
  </body>
</html>
